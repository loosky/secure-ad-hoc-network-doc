\documentclass[a4paper, twoside, english, 12pt]{book}

\usepackage{graphicx,subfig,url,acronym,fancyhdr,listings,longtable,verbatim,enumerate,courier,caption,tabularx}
\usepackage[latin1]{inputenc}
\usepackage[pdftex,colorlinks]{hyperref}
\usepackage[top=3.0cm, bottom=2.5cm, left=2.5cm, right=2.5cm, bindingoffset=1cm, includefoot]{geometry}

\setcounter{secnumdepth}{3}

\hypersetup{
		bookmarksnumbered,
		linkcolor=black, 		% Color for normal internal links.
		anchorcolor=black,		% Color for anchor text.
		citecolor=black,		% Color for bibliographical citations in text.
		filecolor=magenta, 		% Color for URLs which open local files.
		menucolor=red, 			% Color for Acrobat menu items.
		pagecolor=red, 			% Color for links to other pages
		urlcolor=blue, 			% Color for linked URLs.
}


\setlength{\parindent}{0pt} 
\setlength{\parskip}{2ex}
\addtolength{\headheight}{0.5pt}
\addtolength{\footskip}{0.5pt}


\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyhead[RO]{\bfseries\rightmark}
\fancyhead[LE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}
\cfoot{\thepage} 


\begin{document}

\definecolor{darkgray}{rgb}{0.95,0.95,0.95}
\lstset{ %
language=c,                % choose the language of the code
basicstyle=\small,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=0,                   % the step between two line-numbers. If it is 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
backgroundcolor=\color{darkgray},  % choose the background color. You must add \usepackage{color}
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,   		% adds a frame around the code
tabsize=2,  		% sets default tabsize to 2 spaces
captionpos=b,   		% sets the caption-position to bottom
breaklines=true,    	% sets automatic line breaking
breakatwhitespace=false,    % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)}          % if you want to add a comment within your code
}

\pagenumbering{roman}
\pagestyle{fancy}
\input{abstract}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{preface}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{acronyms}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{definitions}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\setlength{\parskip}{0ex}
\tableofcontents

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\listoffigures

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\listoftables
\setlength{\parskip}{2ex}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\pagenumbering{arabic}
\input{introduction}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{background}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{design}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{implementation}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{testing}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{discussion}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{conclusion}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\addcontentsline{toc}{chapter}{References}
\bibliographystyle{alpha}
\renewcommand{\bibname}{References}
\bibliography{ref}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\appendix
\input{appendix_source_code}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{appendix_irc_logs}

\pagestyle{empty}
\cleardoublepage
\pagestyle{fancy}

\input{appendix_labsetup}

\end{document}